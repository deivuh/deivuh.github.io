body > nav {
  position: relative;
  background-color: $nav-bg;
  border: {
    top: 1px solid $nav-border-top;
    bottom: 1px solid $nav-border-bottom; }
  padding-top: .35em;
  padding-bottom: .35em;
  padding-left: 5px;
  padding-right: 5px;
  form {
    @include background-clip(padding-box);
    margin: 0; padding: 0;
    .search {
      padding: .3em .5em 0;
      font-size: .85em;
      font-family: $sans;
      line-height: 1.1em;
      width: 95%;
      @include border-radius(.5em);
      @include background-clip(padding-box);
      @include box-shadow(lighten($nav-bg, 2) 0 1px);
      border: 1px solid $nav-border;
      background-color: $nav-border-top;
      border-radius: 0.2em 0.2em 0.2em 0.2em;
      box-shadow: none;
      border: 0px;
      padding-top: 0.3em;
      padding-bottom: 0.3em;
      padding-left: 0.5em;
      padding-right: 0.5em;
      &:focus {
        color: #444;
        border-color: #80b1df;
        @include box-shadow(#80b1df 0 0 4px, #80b1df 0 0 3px inset);
        background-color: #fff;
        outline: none;
      }
    }
  }
  fieldset[role=search]{ float: right; width: 48%; }
  fieldset.mobile-nav{ float: left; width: 48%;
    select{ width: 100%; font-size: .8em; border: 1px solid #888;}
  }
  ul { display: none; }
  @media only screen and (min-width: 550px) {
    font-size: .9em;
    ul {
      @include horizontal-list(0);
      float: left;
      display: block;
      padding-top: .15em;
    }
    ul.subscription {
      margin-left: .8em;
      float: right;
      li:last-child a { padding-right: 0; }
    }
    ul li {
      margin: 0;
    }
    a {
      @include link-colors($nav-color, $nav-color-hover, $visited: $nav-color);
      font-family: $sans;
      text-shadow: darken($nav-bg, 3) 0 1px;
      float: left;
      text-decoration: none;
      font-size: 1.1em;
      padding: .1em 0;
      line-height: 1.5em;
    }
    li + li {
      border-left: 1px solid $nav-border-left;
      margin-left: .8em;
      a {
        padding-left: .8em;
        border-left: 1px solid $nav-border-right;
      }
    }
    form {
      float: right;
      text-align: left;
      padding-left: .8em;
      width: $sidebar-width-medium - $pad-medium*2 - $sidebar-pad-medium + 20px;
      .search {
        width: 93%;
        font-size: .95em;
        line-height: 1.2em;
      }
    }
    ul[data-subscription$=email] + form {
      width: $sidebar-width-medium - $pad-medium*2 - $sidebar-pad-medium - 58px;
      .search { width: 91%; }
    }
    fieldset.mobile-nav { display: none; }
    fieldset[role=search]{ width: 99%; }
  }
  @media only screen and (min-width: 992px) {
    form {
      width: $sidebar-width-wide - $pad-wide - $sidebar-pad-wide*2 + 10px;
    }
    ul[data-subscription$=email] + form {
      width: $sidebar-width-wide - $pad-wide - $sidebar-pad-wide*2 - 58px;
    }
  }
}
.no-placeholder {
  body > nav .search {
    background: lighten($nav-bg, 15) image-url('search.png') .3em .25em no-repeat;
    text-indent: 1.3em;
  }
}
@mixin mask-subscription-nav($feed: 'rss.png'){
  position: relative; top: 0px;
  text-indent: -999999em;
  background-color: $nav-border-right;
  border: 0;
  padding: 0;
  &,&:after { @include mask-image($feed); }
  &:after {
    content: "";
    position: absolute; top: -1px; left: 0;
    background-color: lighten($nav-color, 15);
  }
  &:hover:after { background-color: lighten($nav-color, 20); }
}
.maskImage {
  body > nav {
    @media only screen and (min-width: 550px) {
      ul[data-subscription$=email] + form {
        width: $sidebar-width-medium - $pad-medium*2 - $sidebar-pad-medium - 32px;
      }
    }
    @media only screen and (min-width: 992px) {
      ul[data-subscription$=email] + form {
        width: $sidebar-width-wide - $pad-wide - $sidebar-pad-wide*2 - 32px;
      }
    }
  }
  ul.subscription { position: relative; top: .2em; li, a { border: 0; padding: 0; }}
  a[rel=subscribe-rss]{ @include mask-subscription-nav('rss.png'); }
  a[rel=subscribe-email]{ @include mask-subscription-nav('email.png'); }
}


#sub-nav{
  @media screen and (max-width: 1040px){
    position: absolute;
    top: 30px;
    right: 0;
  }
  @media screen and (max-width: 600px){
    display: none;
  }
  .search{
    float: left;
    margin-top: 1px;
    position: relative;
    @media screen and (max-width: 1040px){
      float: none;
      margin-top: 15px;
    }
    &:before{
      content: "\f002";
      color: $color-gray03;
      font: 18px $font-icon;
      line-height: 30px;
      position: absolute;
      top: 0;
      right: 125px;
    }
    input[type="text"]{
      background: #f2f2f2;
      color: $color-gray02;
      border: 1px solid $color-gray04;
      font: 13px $font-default;
      padding: 6px 15px 6px 35px;
      width: 100px;
      @include transition(0.3s);
      @include border-radius(15px);
      &:focus, &:active{
        background: #fff;
        border-top: 1px solid $color-gray03;
        color: $color-gray01;
        outline: none;
      }
    }
  }
  .social{
    float: left;
    margin-right: 15px;
    @media screen and (max-width: 1040px){
      float: none;
      margin-right: 0;
      a:last-of-type{
        margin-right: 0;
      }
    }
    a{
      @include border-radius(50%);
      @include inline-block;
      text-indent: -9999px;
      margin-right: 15px;
      opacity: 0.5;
      @include transition(0.3s);
      &:hover{
        opacity: 1;
      }
      &.facebook{
        background: image-url('social/facebook.png') center no-repeat #3B5998;
        border: 1px solid #3B5998;
        &:hover{
          border: 1px solid darken(#3B5998, 10%);
        }
      }
      &.google{
        background: image-url('social/google.png') center no-repeat #C83D20;
        border: 1px solid #C83D20;
        &:hover{
          border: 1px solid darken(#C83D20, 10%);
        }
      }
      &.twitter{
        background: image-url('social/twitter.png') center no-repeat #55CFF8;
        border: 1px solid #55CFF8;
        &:hover{
          border: 1px solid darken(#55CFF8, 10%);
        }
      }
      &.github{
        background: image-url('social/github.png') center no-repeat rgb(175,182,202);
        border: 1px solid rgb(175,182,202);
        &:hover{
          border: 1px solid darken(rgb(175,182,202), 10%);
        }
      }
      &.coderwall{
        background: image-url('social/coderwall.png') center no-repeat rgb(58,114,159);
        border: 1px solid rgb(58,114,159);
        &:hover{
          border: 1px solid darken(rgb(58,114,159), 10%);
        }
      }
      &.pinboard{
        background: image-url('social/pinboard.png') center no-repeat rgb(0,102,200);
        border: 1px solid rgb(58,114,159);
        &:hover{
          border: 1px solid darken(rgb(0,102,255), 10%);
        }
      }
      &.linkedin{
        background: image-url('social/linkedin.png') center no-repeat #005A87;
        border: 1px solid #005A87;
        &:hover{
          border: 1px solid darken(#005A87, 10%);
        }
      }
      &.pinterest{
        background: image-url('social/pinterest.png') center no-repeat rgb(190,64,55);
        border: 1px solid rgb(190,64,55);
        &:hover{
          border: 1px solid darken(rgb(190,64,55), 10%);
        }
      }
      &.delicious{
        background: image-url('social/delicious.png') center no-repeat rgb(50,113,203);
        border: 1px solid rgb(50,113,203);
        &:hover{
          border: 1px solid darken(rgb(50,113,203), 10%);
        }
      }
      &.rss{
        background: image-url('social/rss.png') center no-repeat #ef7522;
        border: 1px solid #ef7522;
        &:hover{
          border: 1px solid darken(#ef7522, 10%);
        }
      }
      &.instagram{
        background: image-url('social/instagram.png') center no-repeat rgb(64,110,149);
        border: 1px solid rgb(64,110,149);
        &:hover{
          border: 1px solid darken(rgb(64,110,149), 10%);
        }
      }
    }
  }
}

